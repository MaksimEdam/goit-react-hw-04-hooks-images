{"version":3,"sources":["components/Modal/Modal.module.css","components/ImageGalleryItem/ImageGalleryItem.module.css","components/ImageGallery/ImageGallery.module.css","components/Button/Button.module.css","components/Spinner/Spinner.module.css","components/App/App.module.css","components/Searchbar/Searchbar.module.css","components/Modal/Modal.jsx","components/ImageGalleryItem/ImageGalleryItem.jsx","components/ImageGallery/ImageGallery.jsx","components/Searchbar/Searchbar.jsx","components/Button/Button.jsx","components/Spinner/Spinner.jsx","services/imagesApi.js","components/App/App.jsx","index.js"],"names":["module","exports","modalRoot","document","querySelector","Modal","toggleModal","largeImageURL","tags","useEffect","window","addEventListener","handleKeyDown","removeEventListener","e","code","createPortal","className","s","Overlay","onClick","currentTarget","target","src","alt","ImageGalleryItem","webformatURL","useState","showModal","setShowModal","ImageGalleryItemImage","ImageGallery","items","map","id","Searchbar","onSubmit","imageName","setImageName","SearchForm","preventDefault","trim","toast","type","SearchFormButton","style","marginRight","SearchFormButtonLabel","SearchFormInput","placeholder","value","onChange","Button","onBtnClick","Spinner","loader","color","height","width","timeout","nextName","page","a","axios","get","data","console","error","defaults","baseURL","params","key","image_type","orientation","per_page","imagesApi","App","loading","setLoading","setItems","setPage","fetchImages","result","prevItems","hits","length","prevPage","theme","ReactDOM","render","StrictMode","getElementById"],"mappings":"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","file":"static/js/main.a6f1d0c9.chunk.js","sourcesContent":["// extracted by mini-css-extract-plugin\nmodule.exports = {\"Overlay\":\"Modal_Overlay__3474A\",\"Modal\":\"Modal_Modal__WXPcD\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"ImageGalleryItem\":\"ImageGalleryItem_ImageGalleryItem__1GIcO\",\"ImageGalleryItemImage\":\"ImageGalleryItem_ImageGalleryItemImage__1myZr\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"ImageGallery\":\"ImageGallery_ImageGallery__2nDcB\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"Button\":\"Button_Button__27H57\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"loader\":\"Spinner_loader__3H_Uj\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"App\":\"App_App__2Fwh2\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"Searchbar\":\"Searchbar_Searchbar__3dn5C\",\"SearchForm\":\"Searchbar_SearchForm__3l6Lb\",\"SearchFormButton\":\"Searchbar_SearchFormButton__3tJBf\",\"SearchFormButtonLabel\":\"Searchbar_SearchFormButtonLabel__SgFzU\",\"SearchFormInput\":\"Searchbar_SearchFormInput__3tNgV\"};","import { useEffect } from \"react\";\r\nimport { createPortal } from \"react-dom\";\r\nimport s from \"./Modal.module.css\";\r\nconst modalRoot = document.querySelector(\"#modal-root\");\r\n\r\nfunction Modal({ toggleModal, largeImageURL, tags }) {\r\n  useEffect(() => {\r\n    window.addEventListener(\"keydown\", handleKeyDown);\r\n    return () => {\r\n      window.removeEventListener(\"keydown\", handleKeyDown);\r\n    };\r\n  });\r\n\r\n  const handleKeyDown = (e) => {\r\n    if (e.code === \"Escape\") {\r\n      toggleModal();\r\n    }\r\n  };\r\n\r\n  const handleBackdropClick = (e) => {\r\n    const isClickedOnBackdrop = e.currentTarget === e.target;\r\n    if (isClickedOnBackdrop) {\r\n      toggleModal();\r\n    }\r\n  };\r\n  return createPortal(\r\n    <div className={s.Overlay} onClick={handleBackdropClick}>\r\n      <div className={s.Modal}>\r\n        <img src={largeImageURL} alt={tags} />\r\n      </div>\r\n    </div>,\r\n    modalRoot\r\n  );\r\n}\r\n\r\nexport default Modal;\r\n","import { useState } from \"react\";\r\nimport Modal from \"../Modal\";\r\nimport s from \"./ImageGalleryItem.module.css\";\r\n\r\nfunction ImageGalleryItem({ webformatURL, largeImageURL, tags }) {\r\n  const [showModal, setShowModal] = useState(false);\r\n\r\n  const toggleModal = () => {\r\n    setShowModal(!showModal);\r\n  };\r\n  return (\r\n    <li className={s.ImageGalleryItem}>\r\n      <img\r\n        onClick={toggleModal}\r\n        className={s.ImageGalleryItemImage}\r\n        src={webformatURL}\r\n        alt={tags}\r\n      />\r\n      {showModal && (\r\n        <Modal\r\n          largeImageURL={largeImageURL}\r\n          toggleModal={toggleModal}\r\n          alt={tags}\r\n        />\r\n      )}\r\n    </li>\r\n  );\r\n}\r\n\r\nexport default ImageGalleryItem;\r\n","import ImageGalleryItem from \"../ImageGalleryItem\";\r\nimport s from \"./ImageGallery.module.css\";\r\n\r\nfunction ImageGallery({ items }) {\r\n  return (\r\n    <ul className={s.ImageGallery}>\r\n      {items.map(({ id, webformatURL, largeImageURL, tags }) => (\r\n        <ImageGalleryItem\r\n          key={id}\r\n          webformatURL={webformatURL}\r\n          largeImageURL={largeImageURL}\r\n          tags={tags}\r\n        />\r\n      ))}\r\n    </ul>\r\n  );\r\n}\r\n\r\nexport default ImageGallery;\r\n","import { toast } from \"react-toastify\";\r\nimport { ImSearch } from \"react-icons/im\";\r\nimport { useState } from \"react\";\r\nimport \"react-toastify/dist/ReactToastify.css\";\r\nimport s from \"./Searchbar.module.css\";\r\n\r\nfunction Searchbar({ onSubmit }) {\r\n  const [imageName, setImageName] = useState(\"\");\r\n\r\n  const handleNameChange = (e) => {\r\n    setImageName(e.currentTarget.value);\r\n  };\r\n\r\n  const handleSubmit = (e) => {\r\n    e.preventDefault();\r\n    if (imageName.trim() === \"\") {\r\n      toast(\"Type in the keyword\");\r\n      return;\r\n    }\r\n    onSubmit(imageName);\r\n  };\r\n\r\n  return (\r\n    <header className={s.Searchbar}>\r\n      <form className={s.SearchForm} onSubmit={handleSubmit}>\r\n        <button type=\"submit\" className={s.SearchFormButton}>\r\n          <ImSearch style={{ marginRight: 8 }} />\r\n          <span className={s.SearchFormButtonLabel}>Search</span>\r\n        </button>\r\n        <input\r\n          className={s.SearchFormInput}\r\n          type=\"text\"\r\n          placeholder=\"Search images and photos\"\r\n          value={imageName}\r\n          onChange={handleNameChange}\r\n        />\r\n      </form>\r\n    </header>\r\n  );\r\n}\r\n\r\nexport default Searchbar;\r\n","import s from \"./Button.module.css\";\r\n\r\nfunction Button({ onBtnClick }) {\r\n  return (\r\n    <button className={s.Button} onClick={onBtnClick}>\r\n      Load more\r\n    </button>\r\n  );\r\n}\r\nexport default Button;\r\n","import Loader from \"react-loader-spinner\";\r\n\r\nimport \"react-loader-spinner/dist/loader/css/react-spinner-loader.css\";\r\nimport s from \"./Spinner.module.css\";\r\n\r\nimport React from \"react\";\r\n\r\nfunction Spinner() {\r\n  return (\r\n    <Loader\r\n      className={s.loader}\r\n      type=\"BallTriangle\"\r\n      color=\"#00BFFF\"\r\n      height={150}\r\n      width={150}\r\n      timeout={1000}\r\n    />\r\n  );\r\n}\r\n\r\nexport default Spinner;\r\n","import axios from \"axios\";\r\n\r\naxios.defaults.baseURL = \"https://pixabay.com/api/\";\r\naxios.defaults.params = {\r\n  key: \"18992166-123806360f211761da038f5eb\",\r\n  image_type: \"photo\",\r\n  orientation: \"horizontal\",\r\n  per_page: \"12\",\r\n};\r\n\r\nasync function imagesApi(nextName, page) {\r\n  try {\r\n    const { data } = await axios.get(`?q=${nextName}&page=${page}`);\r\n    return data;\r\n  } catch (e) {\r\n    console.error(e);\r\n  }\r\n}\r\n\r\nexport default imagesApi;\r\n","import React, { useState, useEffect } from \"react\";\nimport { ToastContainer, toast } from \"react-toastify\";\nimport ImageGallery from \"../ImageGallery\";\nimport Searchbar from \"../Searchbar\";\nimport Button from \"../Button\";\nimport Spinner from \"../Spinner\";\nimport imagesApi from \"../../services/imagesApi\";\nimport s from \"./App.module.css\";\n\nfunction App() {\n  const [imageName, setImageName] = useState(\"\");\n  const [loading, setLoading] = useState(false);\n  const [items, setItems] = useState([]);\n  const [page, setPage] = useState(1);\n\n  useEffect(() => {\n    if (!imageName || !page) {\n      return;\n    }\n    const fetchImages = async () => {\n      try {\n        const result = await imagesApi(imageName, page);\n        setItems((prevItems) => [...prevItems, ...result.hits]);\n        if (result.length === 0) {\n          toast.error(\"фото отсутствует\");\n        }\n      } catch (e) {\n        console.error(e);\n      } finally {\n        setLoading(false);\n      }\n    };\n\n    fetchImages();\n  }, [imageName, page]);\n\n  const handleFormSubmit = (imageName) => {\n    setImageName(imageName);\n    setItems([]);\n    setPage(1);\n    setLoading(true);\n  };\n  const onBtnClick = () => {\n    setLoading(true);\n    setPage((prevPage) => prevPage + 1);\n  };\n  return (\n    <div className={s.App}>\n      {loading && <Spinner />}\n      <Searchbar onSubmit={handleFormSubmit} />\n      <ImageGallery items={items} />\n      {items.length > 0 && <Button onBtnClick={onBtnClick} />}\n      <ToastContainer theme=\"colored\" />\n    </div>\n  );\n}\n\nexport default App;\n","import React from \"react\";\nimport ReactDOM from \"react-dom\";\nimport App from \"./components/App\";\nimport \"modern-normalize/modern-normalize.css\";\nimport \"./index.css\";\n\nReactDOM.render(\n  <React.StrictMode>\n    <App />\n  </React.StrictMode>,\n  document.getElementById(\"root\")\n);\n"],"sourceRoot":""}